# Markdown事件文档指南

## 概述

你的GitHub仓库中的Markdown文件可以直接被解析并显示在网站上！不需要特殊的格式化数据，现有的Markdown格式完全支持。

## 支持的Markdown格式

### 基本结构
```markdown
# 事件标题

## 基本信息
- 日期: 2025-02-15
- 时间: 19:00-21:00
- 地点: 线上会议
- 演讲者: 张三博士

## 描述
这里是事件的详细描述...

## 视频
[观看视频](https://bilibili.com/xxx)

## 相关链接
- [文档](https://github.com/xxx)
```

### 自动识别的字段

| 字段 | 识别模式 | 示例 |
|------|----------|------|
| 标题 | `# 标题` | `# AI对齐研究前沿讨论` |
| 日期 | `日期:`, `Date:` | `日期: 2025-02-15` |
| 时间 | `时间:`, `Time:` | `时间: 19:00-21:00` |
| 地点 | `地点:`, `Location:` | `地点: 线上会议` |
| 演讲者 | `演讲者:`, `Speaker:` | `演讲者: 张三博士` |
| 视频链接 | `[视频](url)`, `[B站](url)` | `[观看视频](https://bilibili.com/xxx)` |

### 事件类型自动识别

根据文件名自动识别事件类型：
- `talk-*.md` → 讲座 (lecture)
- `seminar-*.md` → 研讨会 (seminar)  
- `course-*.md` → 课程 (course)

## 你的文件示例

基于你的 `talk-01-black-box-is-not-black.md` 文件，系统会自动：

1. **提取标题**: 从第一个 `#` 标题
2. **识别类型**: 因为文件名包含 `talk`，自动识别为讲座
3. **提取信息**: 从内容中提取日期、时间、地点等信息
4. **生成链接**: 自动生成GitHub文档链接
5. **智能标签**: 从内容中提取相关关键词作为标签

## 如何添加新事件

### 方法1: 直接在GitHub上创建文件
1. 在你的 `aisafetystudy-doc` 仓库中创建新的 `.md` 文件
2. 按照上述格式填写内容
3. 推送到GitHub
4. 网站会自动更新显示新事件

### 方法2: 使用GitHub Actions自动更新
- 每天自动检查新文件
- 文件更新时自动触发解析
- 无需手动操作

## 高级功能

### 自定义标签
系统会自动从内容中提取标签，包括：
- AI对齐、AI安全、大语言模型
- 机器学习、深度学习、可解释性
- RLHF、宪法AI、安全风险等

### 视频链接支持
支持多种视频平台：
- B站: `[B站](https://bilibili.com/xxx)`
- YouTube: `[YouTube](https://youtube.com/xxx)`
- 其他: `[视频](https://example.com/xxx)`

### 智能描述提取
- 自动提取第一段有效描述
- 移除Markdown链接格式
- 限制长度以保持界面美观

## 测试解析功能

你可以运行测试脚本来验证解析效果：

```bash
# 在项目根目录运行
node scripts/test-markdown-parser.js
```

这会显示从你的Markdown文件中解析出的所有信息。

## 故障排除

### 常见问题

1. **解析失败**
   - 检查Markdown格式是否正确
   - 确保文件编码为UTF-8
   - 查看控制台错误信息

2. **信息缺失**
   - 确保使用了正确的字段名称（日期、时间、地点等）
   - 检查字段格式是否规范

3. **标签不显示**
   - 在内容中包含相关关键词
   - 或者系统会从标题中自动提取

### 调试技巧

在 `lib/github-events.ts` 中启用调试日志：

```typescript
console.log('原始内容:', content);
console.log('解析结果:', event);
```

## 最佳实践

1. **文件命名**: 使用有意义的文件名，如 `talk-01-ai-safety.md`
2. **内容结构**: 保持一致的Markdown格式
3. **信息完整**: 尽量填写完整的日期、时间、地点信息
4. **描述清晰**: 写清楚的事件描述，便于用户理解
5. **链接有效**: 确保视频链接和文档链接有效

## 总结

✅ **你的现有Markdown文件完全支持！**
✅ **无需格式化数据！**
✅ **GitHub Actions自动更新！**
✅ **智能解析和显示！**

只需要按照标准Markdown格式编写你的活动文档，系统就会自动解析并在网站上美观地展示出来。
